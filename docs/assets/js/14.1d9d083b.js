(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{289:function(a,s,t){"use strict";t.r(s);var e=t(7),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"手动安装教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动安装教程"}},[a._v("#")]),a._v(" 手动安装教程")]),a._v(" "),s("h2",{attrs:{id:"准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[a._v("#")]),a._v(" 准备")]),a._v(" "),s("h4",{attrs:{id:"安装流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装流程"}},[a._v("#")]),a._v(" 安装流程")]),a._v(" "),s("p",[a._v("Docker -> Caddy -> MariaDB -> Redis -> Trojan Panel -> Trojan Panel UI -> Trojan Panel Core")]),a._v(" "),s("h4",{attrs:{id:"版本对应关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本对应关系"}},[a._v("#")]),a._v(" 版本对应关系")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("名称")]),a._v(" "),s("th",[a._v("版本")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("Docker")]),a._v(" "),s("td",[a._v("latest")])]),a._v(" "),s("tr",[s("td",[a._v("Caddy")]),a._v(" "),s("td",[a._v("1.0.3")])]),a._v(" "),s("tr",[s("td",[a._v("MariaDB")]),a._v(" "),s("td",[a._v("10.7.3")])]),a._v(" "),s("tr",[s("td",[a._v("Redis")]),a._v(" "),s("td",[a._v("6.2.7")])]),a._v(" "),s("tr",[s("td",[a._v("Trojan Panel UI")]),a._v(" "),s("td",[a._v("latest")])]),a._v(" "),s("tr",[s("td",[a._v("Trojan Panel")]),a._v(" "),s("td",[a._v("latest")])]),a._v(" "),s("tr",[s("td",[a._v("Trojan Panel Core")]),a._v(" "),s("td",[a._v("latest")])])])]),a._v(" "),s("h2",{attrs:{id:"安装docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[a._v("#")]),a._v(" 安装Docker")]),a._v(" "),s("blockquote",[s("p",[a._v("Docker官方安装教程：https://docs.docker.com/engine/install/")])]),a._v(" "),s("p",[a._v("注意：")]),a._v(" "),s("ol",[s("li",[a._v("如果是国内服务器需要设置Docker国内镜像源")])]),a._v(" "),s("h2",{attrs:{id:"安装caddy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装caddy"}},[a._v("#")]),a._v(" 安装Caddy")]),a._v(" "),s("blockquote",[s("p",[a._v("Docker Hub：https://hub.docker.com/r/teddysun/caddy")])]),a._v(" "),s("ol",[s("li",[a._v("Pull the image")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull teddysun/caddy:1.0.5\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("Start a container")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" trojan-panel-caddy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),a._v(" always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_Caddyfile}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/etc/caddy/Caddyfile"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_ACME}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/root/.caddy/acme/acme-v02.api.letsencrypt.org/sites/"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_SRV}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_SRV}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nteddysun/caddy:1.0.5\n")])])]),s("p",[a._v("参数解释：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("--name trojan-panel-redis")]),a._v("：定义容器的名称")]),a._v(" "),s("li",[s("code",[a._v("--restart always")]),a._v("：容器随着Docker启动而启动")]),a._v(" "),s("li",[s("code",[a._v("--network=host")]),a._v("：使用Host网络模式")]),a._v(" "),s("li",[s("code",[a._v('-v ${CADDY_Caddyfile}:"/etc/caddy/Caddyfile"')]),a._v("：映射Caddyfile文件")]),a._v(" "),s("li",[s("code",[a._v('-v ${CADDY_ACME}:"/root/.caddy/acme/acme-v02.api.letsencrypt.org/sites/"')]),a._v("：映射证书文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v ${CADDY_SRV}:${CADDY_SRV}")]),a._v("：映射伪装网站文件夹")])]),a._v(" "),s("h2",{attrs:{id:"安装mariadb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装mariadb"}},[a._v("#")]),a._v(" 安装MariaDB")]),a._v(" "),s("blockquote",[s("p",[a._v("Docker Hub：https://hub.docker.com/_/mariadb")])]),a._v(" "),s("ol",[s("li",[a._v("Pull the image")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull mariadb:10.7.3\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("Start a container")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" trojan-panel-mariadb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),a._v(" always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${MARIA_DATA}")]),a._v(":/var/lib/mysql "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_DATABASE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"trojan_panel_db"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_pas}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nmariadb:10.7.3\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--port")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_port}")]),a._v("\n")])])]),s("p",[a._v("参数解释：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("--name trojan-panel-redis")]),a._v("：定义容器的名称")]),a._v(" "),s("li",[s("code",[a._v("--restart always")]),a._v("：容器随着Docker启动而启动")]),a._v(" "),s("li",[s("code",[a._v("--network=host")]),a._v("：使用Host网络模式")]),a._v(" "),s("li",[s("code",[a._v("-v ${MARIA_DATA}:/var/lib/mysql")]),a._v("：映射MariaDB数据文件夹")]),a._v(" "),s("li",[s("code",[a._v('-e MYSQL_DATABASE="trojan_panel_db"')]),a._v("：容器启动时创建一个默认的"),s("code",[a._v("trojan_panel_db")]),a._v("库")]),a._v(" "),s("li",[s("code",[a._v('-e MYSQL_ROOT_PASSWORD="${mariadb_pas}"')]),a._v("：设置MariaDB密码为"),s("code",[a._v("${mariadb_pas}")])]),a._v(" "),s("li",[s("code",[a._v('-e TZ=Asia/Shanghai"')]),a._v("：设置时区为上海")]),a._v(" "),s("li",[s("code",[a._v("--port ${mariadb_port}")]),a._v("：自定义数据库端口（默认:3306）")])]),a._v(" "),s("p",[a._v("注意：")]),a._v(" "),s("ol",[s("li",[a._v("容器启动时必须有一个默认的"),s("code",[a._v("trojan_panel_db")]),a._v("库，如果你是自己的数据库，需要自己手动创建一个"),s("code",[a._v("trojan_panel_db")]),a._v("库")])]),a._v(" "),s("h2",{attrs:{id:"安装redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装redis"}},[a._v("#")]),a._v(" 安装Redis")]),a._v(" "),s("blockquote",[s("p",[a._v("Docker Hub：https://hub.docker.com/_/redis")])]),a._v(" "),s("ol",[s("li",[a._v("Pull the image")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull redis:6.2.7\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("Start a container")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" trojan-panel-redis "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),a._v(" always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${REDIS_DATA}")]),a._v(":/data redis:6.2.7 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nredis-server "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--requirepass")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_pass}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--port")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_port}")]),a._v("\n")])])]),s("p",[a._v("参数解释：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("--name trojan-panel-redis")]),a._v("：定义容器的名称")]),a._v(" "),s("li",[s("code",[a._v("--restart always")]),a._v("：容器随着Docker启动而启动")]),a._v(" "),s("li",[s("code",[a._v("--network=host")]),a._v("：使用Host网络模式")]),a._v(" "),s("li",[s("code",[a._v("-v ${REDIS_DATA}:/data")]),a._v("：映射Redis数据文件夹")]),a._v(" "),s("li",[s("code",[a._v('redis-server --requirepass "${redis_pass}" --port ${redis_port}')]),a._v("：设置Redis密码为"),s("code",[a._v("${redis_pass}")]),a._v(" 设置Redis端口为"),s("code",[a._v("${redis_port}")]),a._v("（默认:6379）")])]),a._v(" "),s("h2",{attrs:{id:"安装trojan-panel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装trojan-panel"}},[a._v("#")]),a._v(" 安装Trojan Panel")]),a._v(" "),s("blockquote",[s("p",[a._v("Docker Hub：https://hub.docker.com/r/jonssonyan/trojan-panel")])]),a._v(" "),s("ol",[s("li",[a._v("Pull the image")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull jonssonyan/trojan-panel\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("Start a container")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" trojan-panel "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),a._v(" always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_SRV}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_WEBFILE}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_LOGS}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_LOGS}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /etc/localtime:/etc/localtime "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_ip='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_ip}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_port='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_port}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_user='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_user}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_pas='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_pas}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"redis_host='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_host}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"redis_port='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_port}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"redis_pass='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_pass}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\njonssonyan/trojan-panel\n")])])]),s("p",[a._v("参数解释：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("--name trojan-panel")]),a._v("：定义容器的名称")]),a._v(" "),s("li",[s("code",[a._v("--restart always")]),a._v("：容器随着Docker启动而启动")]),a._v(" "),s("li",[s("code",[a._v("--network=host")]),a._v("：使用Host网络模式")]),a._v(" "),s("li",[s("code",[a._v("-v ${CADDY_SRV}:/tpdata/trojan-panel/webfile/")]),a._v("：映射伪装网站文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v ${TROJAN_PANEL_LOGS}:/tpdata/trojan-panel/logs/")]),a._v("：映射日志文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v /etc/localtime:/etc/localtime")]),a._v("：同步宿主机和容器的时区")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_ip=${mariadb_ip}"')]),a._v("："),s("code",[a._v("${mariadb_ip}")]),a._v("为 MariaDB 数据库的 IP 地址(默认:本机数据库)")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_port=${mariadb_port}"')]),a._v("："),s("code",[a._v("${mariadb_port}")]),a._v("为 MariaDB 数据库的端口(默认:本机数据库端口)")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_user=${mariadb_user}"')]),a._v("："),s("code",[a._v("${mariadb_user}")]),a._v("为 MariaDB 数据库的用户名(默认:root)")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_pas=${mariadb_pas}"')]),a._v("："),s("code",[a._v("${mariadb_pas}")]),a._v("为 MariaDB 数据库密码(默认:123456)")]),a._v(" "),s("li",[s("code",[a._v('-e "redis_host=${redis_host}"')]),a._v("："),s("code",[a._v("${redis_host}")]),a._v("为 Redis 的 IP 地址(默认:本机 Redis)")]),a._v(" "),s("li",[s("code",[a._v('-e "redis_port=${redis_port}"')]),a._v("："),s("code",[a._v("${redis_port}")]),a._v("为 Redis 的端口(默认:本机 Redis 端口)")]),a._v(" "),s("li",[s("code",[a._v('-e "redis_pass=${redis_pass}"')]),a._v("："),s("code",[a._v("${redis_pass}")]),a._v("为 Redis 的密码(默认:123456)")])]),a._v(" "),s("h2",{attrs:{id:"安装trojan-panel-ui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装trojan-panel-ui"}},[a._v("#")]),a._v(" 安装Trojan Panel UI")]),a._v(" "),s("blockquote",[s("p",[a._v("Docker Hub：https://hub.docker.com/r/jonssonyan/trojan-panel-ui")])]),a._v(" "),s("ol",[s("li",[a._v("Pull the image")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull jonssonyan/trojan-panel-ui\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("Start a container")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" trojan-panel-ui "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),a._v(" always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${NGINX_CONFIG}")]),a._v(":/etc/nginx/conf.d/default.conf "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_ACME}")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${domain}")]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_ACME}")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${domain}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\njonssonyan/trojan-panel-ui\n")])])]),s("p",[a._v("参数解释：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("--name trojan-panel-ui")]),a._v("：定义容器名称")]),a._v(" "),s("li",[s("code",[a._v("--restart always")]),a._v("：容器随着Docker启动而启动")]),a._v(" "),s("li",[s("code",[a._v("--network=host")]),a._v("：使用Host网络模式")]),a._v(" "),s("li",[s("code",[a._v("-v ${NGINX_CONFIG}:/etc/nginx/conf.d/default.conf")]),a._v("：映射Nginx配置文件")]),a._v(" "),s("li",[s("code",[a._v('-v ${CADDY_ACME}"${domain}":${CADDY_ACME}"${domain}"')]),a._v("：映射证书文件夹")])]),a._v(" "),s("h2",{attrs:{id:"安装trojan-panel-core"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装trojan-panel-core"}},[a._v("#")]),a._v(" 安装Trojan Panel Core")]),a._v(" "),s("blockquote",[s("p",[a._v("Docker Hub：https://hub.docker.com/r/jonssonyan/trojan-panel-core")])]),a._v(" "),s("ol",[s("li",[a._v("Pull the image")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull jonssonyan/trojan-panel-core\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("Start a container")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" trojan-panel-core "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),a._v(" always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_DATA}")]),a._v("bin/xray/config:"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_DATA}")]),a._v("bin/xray/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_DATA}")]),a._v("bin/trojango/config:"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_DATA}")]),a._v("bin/trojango/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_DATA}")]),a._v("bin/hysteria/config:"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_DATA}")]),a._v("bin/hysteria/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_LOGS}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TROJAN_PANEL_CORE_LOGS}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_ACME}")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_ACME}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /etc/localtime:/etc/localtime "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_ip='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_ip}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_port='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_port}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_user='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_user}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mariadb_pas='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_pas}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"database='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${database}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"account-table='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${account_table}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"redis_host='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_host}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"redis_port='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_port}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"redis_pass='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${redis_pass}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"crt_path='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_ACME}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${domain}")]),a._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${domain}")]),a._v('.crt"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"key_path='),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CADDY_ACME}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${domain}")]),a._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${domain}")]),a._v('.key"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\njonssonyan/trojan-panel-core\n")])])]),s("p",[a._v("参数解释：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("--name trojan-panel-core")]),a._v("：定义容器名称")]),a._v(" "),s("li",[s("code",[a._v("--restart always")]),a._v("：容器随着Docker启动而启动")]),a._v(" "),s("li",[s("code",[a._v("--network=host")]),a._v("：使用Host网络模式")]),a._v(" "),s("li",[s("code",[a._v("-v ${TROJAN_PANEL_CORE_DATA}bin/xray/config:${TROJAN_PANEL_CORE_DATA}bin/xray/config")]),a._v("：映射Xray配置文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v ${TROJAN_PANEL_CORE_DATA}bin/trojango/config:${TROJAN_PANEL_CORE_DATA}bin/trojango/config")]),a._v("：映射TrojanGo配置文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v ${TROJAN_PANEL_CORE_DATA}bin/hysteria/config:${TROJAN_PANEL_CORE_DATA}bin/hysteria/config")]),a._v("：映射Hysteria配置文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v ${TROJAN_PANEL_CORE_LOGS}:${TROJAN_PANEL_CORE_LOGS}")]),a._v("：映射日志文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v ${CADDY_ACME}:${CADDY_ACME}")]),a._v("：映射证书文件夹")]),a._v(" "),s("li",[s("code",[a._v("-v /etc/localtime:/etc/localtime")]),a._v("：同步宿主机和容器的时区")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_ip=${mariadb_ip}"')]),a._v("："),s("code",[a._v("${mariadb_ip}")]),a._v("为 MariaDB 数据库的 IP 地址(默认:本机数据库)")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_port=${mariadb_port}"')]),a._v("："),s("code",[a._v("${mariadb_port}")]),a._v("为 MariaDB 数据库的端口(默认:本机数据库端口)")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_user=${mariadb_user}"')]),a._v("："),s("code",[a._v("${mariadb_user}")]),a._v("为 MariaDB 数据库的用户名(默认:root)")]),a._v(" "),s("li",[s("code",[a._v('-e "mariadb_pas=${mariadb_pas}"')]),a._v("："),s("code",[a._v("${mariadb_pas}")]),a._v("为 MariaDB 数据库密码(默认:123456)")]),a._v(" "),s("li",[s("code",[a._v('-e "redis_host=${redis_host}"')]),a._v("："),s("code",[a._v("${redis_host}")]),a._v("为 Redis 的 IP 地址(默认:本机 Redis)")]),a._v(" "),s("li",[s("code",[a._v('-e "redis_port=${redis_port}"')]),a._v("："),s("code",[a._v("${redis_port}")]),a._v("为 Redis 的端口(默认:本机 Redis 端口)")]),a._v(" "),s("li",[s("code",[a._v('-e "redis_pass=${redis_pass}"')]),a._v("："),s("code",[a._v("${redis_pass}")]),a._v("为 Redis 的密码(默认:123456)")]),a._v(" "),s("li",[s("code",[a._v('-e "crt_path=${CADDY_ACME}${domain}/${domain}.crt"')]),a._v("：自定义证书.crt文件路径")]),a._v(" "),s("li",[s("code",[a._v('-e "key_path=${CADDY_ACME}${domain}/${domain}.key"')]),a._v("：自定义证书.key文件路径")])])])}),[],!1,null,null,null);s.default=r.exports}}]);